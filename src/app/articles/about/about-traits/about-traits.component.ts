import { Component, ElementRef } from '@angular/core';

@Component({
  selector: 'app-about-traits',
  imports: [],
  templateUrl: './about-traits.component.html',
  styleUrl: './about-traits.component.css',
  standalone: true
})
export class AboutTraitsComponent {
  private intervalId: any;
  currentIndex: number = 0;
  texts: { title: string, description: string }[] = [
    { title: "Responsable", description: "Cumplo con mis compromisos y tareas de forma organizada y efectiva." },
    { title: "Resiliente", description: "Enfrento los desafíos con fortaleza y me adapto para seguir adelante." },
    { title: "Dedicado", description: "Me esfuerzo constantemente por alcanzar mis objetivos con pasión." },
    { title: "Creativo", description: "Busco soluciones innovadoras y aporto ideas originales en mis proyectos." },
    { title: "Puntual", description: "Valoro el tiempo y siempre procuro cumplir con plazos y horarios establecidos." },
    { title: "Colaborativo", description: "Trabajo bien en equipo, promoviendo la cooperación y el entendimiento mutuo." },
    { title: "Entusiasta", description: "Afronto cada tarea con energía y motivación, contagiando positivismo." },
    { title: "Detallista", description: "Presto atención a los pequeños detalles para asegurar resultados de calidad." }
  ];
  currentTextTitle: string = this.texts[0].title;
  currentTextDescription: string = this.texts[0].description;
  paths: { d: string; fill: string }[] = [
    {
      d: "M220,399.5648988626069C286.9419402457978,399.86830665118305,352.05290580703576,373.449582123252,388.28031437240736,317.1566848022243C427.70624575323586,255.89367994218838,442.35535698850043,175.70131698154844,403.88139749779486,113.8360256556836C366.9391312892298,54.43366386386849,289.8817356189013,43.41684073819488,220,46.56559381840958C156.59598038350026,49.42247194682641,96.01639900969369,75.16034233598023,62.742224707476254,129.20718110269962C27.78705494620241,185.98444045680992,20.817497086687034,258.0091141891635,54.34122458368841,315.64313858023104C87.69934906657515,372.99245811097035,153.65530542187417,399.2641980315316,220,399.5648988626069",
      fill: "#8A3FFC"
    },
    {
      d: "M220,380.20481468902693C290.29457212630143,380.92399728278986,373.8945289077056,390.0095117272963,410.20611029297345,329.81554897915987C447.09114600195335,268.670966982772,404.67061999745926,195.8307544961291,368.2888102536752,134.38541548223134C332.8912849250687,74.60243713710204,289.27397094571313,3.274391022428837,220.00000000000006,8.575923689123668C154.14952995840434,13.615456045602972,139.48760956719275,97.25625408395936,106.42254287878754,154.4260245571947C73.27859041143763,211.7321891867875,6.667741312422088,266.85198432248455,36.417639291977096,325.9913253732438C67.15042589679229,387.08453482597605,151.61582842969884,379.5051773714558,220,380.20481468902693",
      fill: "#FA4D56"
    },
    {
      d: "M220,435.13766140159635C295.09669663524204,446.55245882220436,365.73991425281844,391.81873607726806,401.86086594684707,324.99741990947064C436.3497284231945,261.1953583436155,424.92833355682393,185.43006939402167,389.05602301181375,122.39545960600182C352.7301483715505,58.56384969940132,293.43632730389425,6.504704531288156,220.00000000000006,5.43259270696177C144.94486397502067,4.336847566061432,69.11456903480678,47.26984755130036,42.17248534207854,117.33123654292679C19.228464450942788,176.9958857593395,82.7266580432356,225.4482189109398,113.94096369263463,281.23321316204954C146.54796124997773,339.5071722791685,153.98202521178126,425.1028417345396,220,435.13766140159635",
      fill: "#0F62FE"
    },
    {
      d: "M220,435.92407008426056C291.3849483240788,439.20359511553767,343.26249563618904,373.5136584003043,374.9830650066871,309.4795143014441C402.90183053089595,253.1200513372583,404.72800641546183,185.81924772913862,369.80740966271503,133.50865170463095C338.0700224467368,85.96646182502005,277.1134734953177,79.67757425145831,220,77.31691520247193C156.41028501535317,74.68857504183933,79.9712766780244,65.6783573436233,47.08902375448524,120.16980131881094C13.720299835641917,175.4674098547971,56.842719074935104,239.64092372142966,87.86383147406728,296.28885246813286C120.85266722811687,356.53005830201437,151.3900093915132,432.77203051739406,220,435.92407008426056",
      fill: "#08BDBA"
    },
    {
      d: "M220,377.36073889252214C280.41294743229565,377.6273465237452,344.58230025554906,361.6871324127337,374.84100181582704,309.3974940799591C405.13882619361186,257.04024815424407,384.9088756135891,194.5854532043693,356.7479392844867,141.04854044297508C325.8192078794107,82.24975706079897,286.2904481416507,19.439734610856874,220.00000000000006,15.028403889801778C147.96545267947266,10.234829242466091,80.950541977064,56.43720437494598,47.62216901144994,120.47761287643671C16.51354241669529,180.25278273257854,29.960266053118737,252.08610426455851,67.50815580049161,308.04120729780846C100.85428899134924,357.7347142034919,160.15570637433518,377.09664078038094,220,377.36073889252214",
      fill: "#EC0EB1"
    },
    {
      d: "M220,358.012747247186C266.71880159602637,351.072125929137,301.55539424153875,321.4114352428365,328.689522912046,282.7519253113618C362.7353997464792,234.24486139973763,406.5258591875151,180.30418554510638,382.86503432164557,125.96982859282035C356.1267076068244,64.56834338400998,286.9607132977714,34.318005429464804,220,33.15896444229617C150.84983606779326,31.96202566551754,83.84206685022102,61.584261847893075,47.06757897134532,120.15742016749239C7.863047535133703,182.6010695317575,-7.361979696664363,266.6000519700093,35.99554933093786,326.235019125872C75.22551985586773,380.19284505018373,154.01261511578505,367.8159407068539,220,358.012747247186",
      fill: "#24A148"
    },
    {
      d: "M220,395.68009784238205C275.67879062108005,391.97323965054125,298.9237134767703,330.00095179445924,326.6699530704206,281.5859261196521C354.16588663550806,233.60766495697004,394.7652655561973,182.8021881498043,370.46620562683785,133.12829567740363C344.43985282743154,79.92334642566705,279.1554826424567,66.48434152794006,220,63.523507480406096C153.3664324647298,60.18838237189276,74.19946290026672,58.78407707705165,40.96897657897685,116.63639043457796C7.798369763821512,174.38445710973267,49.560388530582294,241.5883841566882,85.52273112820536,297.6404873830162C117.6292940478815,347.68284416583685,160.67488394095298,399.62971294702703,220,395.68009784238205",
      fill: "#F1C21B"
    },
    {
      d: "M220,427.02983104520376C289.92912779480866,424.75031431837925,346.0751395375092,373.47122391225173,377.8737987618515,311.1484802131438C406.74171343238436,254.5697535930579,402.6037009215075,187.90283754677617,369.7430648837204,133.54580118010443C338.0496850427773,81.1196035065154,281.21942405866554,47.72731472237469,220,49.998580047653775C162.2465422400938,52.141256625259956,119.82768297488619,95.52393731227659,88.33984511697899,143.98597413673988C52.58330092105498,199.01785563200337,15.552733989505672,262.5516026718903,43.23214069455552,322.0569711540721C74.21026215357674,388.6539380597442,146.5896901876884,429.4228257015872,220,427.02983104520376",
      fill: "#FF0066"
    }
  ];
  currentPath: string = this.paths[0].d;
  currentFill: string = this.paths[0].fill;
  isTextViewed: boolean = false;
  mouseX: number = 0;
  mouseY: number = 0;
  timeAnimation: number = 1000;

  constructor(private elRef: ElementRef) { }

  ngOnInit(): void {
    this.triggerChangeAnimation();
  }

  triggerChangeAnimation(): void {
    if (this.intervalId) {
      clearInterval(this.intervalId);
    }
    this.intervalId = setInterval(() => {
      this.currentIndex = (this.currentIndex + 1) % this.paths.length;
      this.currentTextTitle = this.texts[this.currentIndex].title;
      this.currentTextDescription = this.texts[this.currentIndex].description;
      this.currentPath = this.paths[this.currentIndex].d;
      this.currentFill = this.paths[this.currentIndex].fill;
    }, this.timeAnimation);
  }

  onMouseMove(event: MouseEvent): void {
    const element: HTMLElement = this.elRef.nativeElement.querySelector('.why') as HTMLElement;
    this.mouseX = event.clientX;
    this.mouseY = event.clientY;
    element.style.transform = 'translate(calc(' + this.mouseX + 'px - 50%), calc(' + this.mouseY + 'px - 100%)';
  }

  ngOnDestroy(): void {
    if (this.intervalId) {
      clearInterval(this.intervalId);
    }
  }
}
